====================
1. Dirty Read (на READ COMMITTED)
====================
--- БД готова. Alice, баланс: 1000 ---

Сценарий: T1 пытается прочесть незакоммиченные изменения от T2.
T1: Начала транзакцию.
  T2: Начала транзакцию, обновила баланс Alice на 500 (без commit).
T1: Читает баланс Alice...
T1: Видит баланс: 1000 (старое значение, т.к. T2 не сделала commit).
  T2: Делает ROLLBACK.
T1: Итоговый баланс после отката T2: 500.

ИТОГ: READ COMMITTED предотвращает 'грязное чтение'. T1 не видит изменения T2 до commit.

Нажмите Enter для продолжения...
====================
2. Non-Repeatable Read (на READ COMMITTED)
====================
--- БД готова. Alice, баланс: 1000 ---

Сценарий: T1 читает данные до и после того, как T2 их изменит и закоммитит.
T1: Начала транзакцию.
T1: Чтение 1: баланс = 1000
  T2: Обновляет баланс Alice на 500 и делает COMMIT.
T1: Чтение 2: баланс = 500

ИТОГ: Non-Repeatable Read. T1 получила разные результаты (1000 != 500) в одной транзакции.

Нажмите Enter для продолжения...
====================
3. РЕШЕНИЕ: Non-Repeatable Read (на REPEATABLE READ)
====================
--- БД готова. Alice, баланс: 1000 ---

Сценарий: Аналогичен предыдущему, но уровень изоляции повышен.
T1: Начала транзакцию.
T1: Чтение 1: баланс = 1000
  T2: Обновляет баланс Alice на 500 и делает COMMIT.
T1: Чтение 2: баланс = 1000

ИТОГ: Проблема решена. T1 видит одни и те же данные (1000 == 1000) благодаря 'снимку' данных.

Нажмите Enter для продолжения...
====================
4. Phantom Read (на REPEATABLE READ)
====================
--- БД готова. Alice, баланс: 1000 ---

Сценарий: T1 дважды выбирает диапазон строк, а T2 добавляет новую строку в этот диапазон.
T1: Начала транзакцию.
T1: Чтение 1: найдено 1 строк.
  T2: Добавляет 'Bob' с балансом 2000 и делает COMMIT.
T1: Чтение 2: найдено 1 строк.

ИТОГ: Phantom Read. Количество строк изменилось (1 -> 1) в одной транзакции.

Нажмите Enter для продолжения...
====================
5. РЕШЕНИЕ: Phantom Read (на SERIALIZABLE)
====================
--- БД готова. Alice, баланс: 1000 ---

Сценарий: Аналогичен предыдущему, но с уровнем SERIALIZABLE.
T1: Начала транзакцию.
T1: Чтение 1: найдено 1 строк.
  T2: Пытается добавить 'Bob'...
T1: Чтение 2: найдено 1 строк.

ИТОГ: Проблема решена. SERIALIZABLE не позволил T2 вставить 'фантома'. Результаты T1 стабильны (1 == 1).