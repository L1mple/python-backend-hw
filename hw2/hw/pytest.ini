[pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = session
testpaths = tests
norecursedirs = .git .pytest_cache __pycache__ shop_api/test_scripts shop_api/transaction_scripts shop_api/not_pytests shop_api/data/old_* alembic settings
pythonpath = .

# Custom markers for test organization
markers =
    unit: Unit tests - fast, isolated, use mocks (run with: pytest -m unit)
    integration: Integration tests - test multiple components with database (run with: pytest -m integration)
    e2e: End-to-end tests - test complete HTTP API flow (run with: pytest -m e2e)

# Automatically apply markers based on test location
# Tests in tests/unit/ get @pytest.mark.unit automatically
# Tests in tests/integration/ get @pytest.mark.integration automatically
# Tests in tests/e2e/ get @pytest.mark.e2e automatically