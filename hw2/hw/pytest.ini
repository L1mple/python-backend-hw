[pytest]
testpaths = .                  # Искать тесты в текущей папке

python_files = test_*.py       # Файлы с тестами начинаются с "test_"
python_classes = Test*         # Классы с тестами начинаются с "Test"
python_functions = test_*      # Функции тестов начинаются с "test_"

addopts =                      # Опции по умолчанию при запуске pytest:
    -v                         #   - verbose (подробный вывод)
    --strict-markers           #   - строгая проверка markers
    --cov=shop_api            #   - измерять покрытие для shop_api
    --cov-report=term-missing  #   - показывать непокрытые строки в терминале
    --cov-report=html          #   - генерировать HTML-отчет
    --cov-report=xml           #   - генерировать XML-отчет (для CI/Codecov)
    --cov-fail-under=95        #   - падать, если покрытие < 95%

markers =                      # Кастомные маркеры для тестов:
    slow: marks tests as slow  #   - помечать медленные тесты
                              #     (можно пропустить: pytest -m "not slow")